/* Wiking generic page content styles */

#messages .info, #messages .success, #messages .error, #messages .warning {
    border-style: solid;
    border-width: 1px 0;
    margin: 0.8em 0;
    padding: 6px 2px 6px 30px;
}
#messages .info {
    /* There's currently no color theme for this... */
    color: $color.foreground;
    border: dotted #dadac0 1px;
    background: #fafae8 url(info.png) left top no-repeat;
}
#messages .success {
    color: $color.message-fg;
    border-color: $color.message-border;
    background: $color.message-bg url(ok.png) 8px 4px no-repeat;
}
#messages .warning { 
    color: $color.error-fg;
    border-color: $color.error-border;
    background: $color.error-bg url(warning.png) 4px 3px no-repeat;
}
#messages .error {
    color: $color.error-fg;
    border-color: $color.error-border;
    background: $color.error-bg url(error.png) 4px 3px no-repeat;
}

img { position: relative; } /* MSIE float workaround */
.hidden { display: none; }

.wiking-info-bar {
    margin: 1em 0 0.5em 0;
    padding: .3em;
    padding-left: 32px;
    border: dotted 2px $color.message-border;
    /* background-color: $color.background; */
    background-image: url(info.png);
    background-position: 2px center;
    background-repeat: no-repeat;
}

/* styles for exported LCG elements */

hr {
    height: 1px;
    background-color: $color.border;
    border: 0px;
}
hr.new-page {
    height: 4px;
    background-color: transparent;
    border: 1px dotted $color.border;
    border-width: 1px 0;
}
ul {
    margin-top: 0.1em;
    margin-bottom: 0.1em; 
}
li {
    margin-top: 0; 
    margin-bottom: 0; 
}
a.backref, a:link.backref { 
    color: $color.foreground !important; /* important needed for MSIE */
    text-decoration: none;
}

.lcg-citation, .lcg-quotation { 
    font-style: italic;
}
.underline { 
    text-decoration: underline;
}
dt .lcg-citation { 
    font-style: normal;
}
dt em { 
    font-weight: normal;
}
dl dt {
    font-weight: bold;
}

table.lcg-table {
    border-collapse: collapse;
}
table.lcg-table, table.lcg-fieldset {
    margin: 0.5em 0;
}
table.lcg-table td, table.lcg-table th {
    padding: 2pt;
    vertical-align: top;
    white-space: nowrap;
    border: solid $color.border 1px;
}
table.lcg-table td { background-color: $color.table-cell; }
table.lcg-table th { background-color: $color.heading-bg; }
table.lcg-table caption, table.lcg-fieldset caption {
    font-weight: bold;
    font-size: 1.1em;
    text-align: left;
}
table.lcg-fieldset {
    padding: 0;
    border-collapse: collapse;
}
table.lcg-fieldset tr { 
    vertical-align: top;
    padding: 0;
}
table.lcg-fieldset th { 
    white-space: nowrap;
    text-align: left; 
    vertical-align: top;
    padding: 0 0.5em 0 0;
}

pre.lcg-preformatted-text {
    background-color: $color.frame-bg;
    border: solid $color.frame-border 1px;
    color: $color.foreground;
    padding: 0.3em;
    white-space: pre;
}

img.lcg-image { 
    margin: .5em .8em;
}
img.lcg-image.left-aligned { 
    margin: .25em 1em .25em 0;
}
img.lcg-image.right-aligned { 
    margin: .25em 0 .25em 1em;
}

figure {
  border: thin silver solid;
  margin: 0.5em;
  padding: 0.5em;
  width: auto;
  display: table-cell;
}

figure a, figure img {
    display: table-cell;
    margin: auto;
}

figure.left-aligned {
    float: left;
}

figure.right-aligned {
    float: right;
}

figcaption{
    display: table-caption;
    caption-side: bottom;
    text-align: center;
    font-style: italic;
    font-size: smaller;
    text-indent: 0;
    min-width: 16em;
}

div.table-of-contents { 
    border: solid $color.frame-border;
    border-width: 1px 0;
    background-color: $color.frame-bg;
    margin: 1em 0;
    padding: 3pt;
}
div.table-of-contents ul { 
    margin-top: 3pt;
    margin-bottom: 0;
}

.login-form input {
    border: 1px solid $color.border;
}

/* Wiking CMS specific styles */
.cms-page-actions { 
    margin: 1em 0 0 0;
    position: relative;
    top: 0.2em;
    padding-top: 0.2em;
    border-top: 1px solid $color.border;
}
.cms-page-actions.cms-publication-actions {
    margin-top: 0;
    border-top: none;
}
.cms-page-actions button.disabled span { 
    color: $color.foreground;
    opacity: 0.4;
}
.cms-page-actions button.action-update span { 
    background-image: url(edit.png);
    padding-left: 19px;
}
.cms-page-actions button.action-options span { 
    background-image: url(properties.png);
    padding-left: 19px;
}
.cms-page-actions button.action-commit span { 
    background-image: url(publish.png);
    padding-left: 19px;
}
.cms-page-actions button.action-revert span { 
    background-image: url(undo.png);
    padding-left: 19px;
}
.cms-page-actions button.action-attachments span { 
    background-image: url(attachment.png);
    padding-left: 19px;
}
.list-form-controls button.prev-page-button span {
    background-image: url(previous.png);
    padding-left: 18px;
}
.list-form-controls button.next-page-button span {
    background-image: url(next.png);
    padding-right: 20px;
    background-position: right center;
}
.list-form-controls button.search-button span {
    background-image: url(search.png);
    padding-left: 18px;
}

div.wiking-image-gallery img {
    margin-right: 1.6em;
    margin-top: .8em;
    margin-bottom: .8em;
}

form.activation-form {
    float: left;
    margin-right: 0.5em;
}

div.item span.panel-field-date { 
    font-weight: bold;
}
.feed-icon-link img {
    border: none;
}


/* Links to unpublished pages */
.unpublished { text-decoration: line-through; }

.page-navigation {
    background-color: $color.frame-bg;
    border: 1px solid $color.frame-border;
    border-width: 1px 0;
    text-align: right;
    padding: 0.1em;
}
.page-navigation.top {
    position: relative;
    top: -0.4em;
    margin-bottom: .5em;
}
.page-navigation.bottom {
    margin-top: 1.2em;
}
.page-navigation .navigation-ctrl {
    background-repeat: no-repeat;
}
.page-navigation .navigation-ctrl.prev {
    background-image: url(previous.png);
    background-position: left center;
    padding-left: 18px;
}
.page-navigation .navigation-ctrl.next {
    background-image: url(next.png);
    background-position: right center;
    padding-right: 18px;
}
.page-navigation .navigation-ctrl.dead {
    opacity: 0.6;
}

table.diff { border: 1px solid $color.border; margin-top: 0.4em; margin-bottom: 0.2em; }
table.diff td, table.diff th { padding: 0.2em; }
td.diff_header { text-align: right; }
th.diff_header, th.diff_next { background-color: $color.heading-bg; }
td.diff_header, td.diff_next { background-color: $color.frame-bg; }
span.diff_add, span.field.id-diff_add { background-color: #aaffaa; }
span.diff_chg, span.field.id-diff_chg { background-color: #ffff77; }
span.diff_sub, span.field.id-diff_sub { background-color: #ffaaaa; }

.pytis-form.publication-export-form div.group,
.pytis-form.publication-export-form div.submit,
.pytis-form.excerpt-export-form div.group,
.pytis-form.excerpt-export-form div.submit {
    margin: 2px;
    padding: 0;
    border: none;
    background: transparent !important;
    text-align: left;
}
.pytis-form.publication-export-form .submit button,
.pytis-form.excerpt-export-form .submit button {
    margin: 0;
}
.pytis-form.publication-export-form th.label {
    width: 1%; /* Prevent label spanning too wide in Safari */
}

.export-progress-log {
    min-height: 2em;
    max-height: 10em;
    max-width: 66em;
    overflow: scroll;
    border: solid $color.border 1px;
    color: $color.foreground;
    padding: 0.1em;
    white-space: pre;
    
}
.export-progress-log .error-msg .label {
    color: #c00;
    font-weight: bold;
}
.export-progress-log .warning-msg .label {
    font-weight: bold;
}
.export-progress-summary {
    margin-top: 0.3em;
    margin-left: 0.1em;
    white-space: nowrap;
}
.export-progress-summary .label {
    font-weight: bold;
}

/* Screen layout */
@media screen {

body {
    font-family: arial, verdana, sans-serif, helvetica;
    color: $color.top-fg;
    background-color: $color.top-bg;
    font-size: 0.8em;
    margin: 2pt 6pt;
}
button, input, select {
    /* Avoid dual application of 0.8em defined above in some elements */
    font-size: 1em;
}

p {
    margin: 0.4em 0;
}
h1, h2, h3 {
    color: $color.heading-fg;
    font-weight: bold;
    text-align: left;
}
h1 {
    background-color: $color.heading-bg;
    padding: 1pt;
    border: solid $color.border;
    border-width: 1px 0px;
}
h2 {
    border: solid $color.heading-line 0px;
    border-bottom-width: 1px;
}
h1 { font-size: 1.5em; }
h2 { font-size: 1.5em; }
h3 { font-size: 1.4em; }
h4 { font-size: 1.2em; }
h5,h6,h7,h8,h9 { font-size: 1.1em; }

a:link    { color: $color.link; }
a:visited { color: $color.link-visited; }
a:link:hover, a:visited:hover { color: $color.link-hover; }

h1 a { outline: none; }

#top hr { display: none; }

#site-title {
    font-size: 1.1em;
    max-width: 70%;
}

#page {
    padding-top: 6px;
    min-width: 100%;
    margin-top: 6px;
}
#links {
    display: none;
}

#breadcrumbs {
    display: none;
    /* The rest is a prototype for the case that breadcrumbs are displayed */
    background-color: $color.frame-bg;
    border: solid $color.frame-border 1px;
    border-width: 1px 0;
    padding: 1px 0;
    margin-bottom: 0.3em;
}

#language-selection {
    position: absolute;
    top: 3px;
    right: 10px;
    max-width: 50%;
    font-size: 0.9em;
    /*white-space: nowrap;*/
}
#language-selection a.current { background-color: $color.highlight-bg; }

#maximized-mode-control {
    position: absolute;
    top: 4px;
    right: 4px;
}
#maximized-mode-control img {
    border: none;
}
body.maximized #submenu,
body.maximized #panels {
    display: none;
}

/* Horizontal menu bar */

#menu {
    border-bottom: 1px solid $color.top-border;
    padding-left: 3px;
    padding-right: 6em; /* leave some space for language selection and panel controls */
}
#menu h3 {
    display: none;
}

#menu ul.main-menu-items {
    margin: 0;
    padding: 0;
}
#menu li.main-menu-item {
    display: inline;
    white-space: nowrap;
    margin-right: 3px;
    position: relative;
}
#menu a.navigation-link {
    border: solid $color.top-border 1px;
    font-size: 13px;
    padding: 1px 8px 0px 8px;
    background-color: $color.inactive-folder;
    text-decoration: none;
    position: relative;
    border-radius: 2px 2px 0 0;
}
#menu a.navigation-link.current {
    background-color: $color.background;
    border-bottom: solid $color.background 1px;
}
#menu a.navigation-link.with-dropdown {
    padding-right: 14px;
}
body.non-maximized #menu a.navigation-link.current.with-dropdown {
    padding-right: 8px;
}
#menu .menu-dropdown-ctrl {
    display: inline-block;
    position: absolute;
    right: 0;
    bottom: 0;
    width: 14px;
    height: 16px;
    background-image: url(popup-arrow.png);
    background-position: 0px 4px;
    background-repeat: no-repeat;
}
body.non-maximized #menu a.navigation-link.current .menu-dropdown-ctrl {
    display: none;
}

#menu .menu-dropdown {
    position: absolute;
    top: 15px;
    left: 2px;
    border: 1px solid $color.top-border;
    z-index: 2;
    background-color: $color.background;
    padding: 2px 6px 2px 2px;
    box-shadow: 1px 1px 12px #999;
    -moz-box-shadow: 1px 1px 12px #999;
    -webkit-box-shadow: #999 1px 1px 12px;    
}

/* Hierarchical submenu */

body.non-maximized #page.with-submenu #main {
    padding-left: 160px;
}

#submenu {
    position: relative;
    z-index: 1;
    float: left;
    width: 160px;
}
#submenu .menu-panel  {
    position: relative;
    border: 1px solid $color.top-border;
    margin: 10px 10px 0 8px;
}
#submenu h3 {
    margin: 0;
    font-size: 1.1em;
    padding: 2px 4px;
    background-color: $color.heading-bg;
    border-bottom: 1px solid $color.top-border;
}
#submenu button.toggle-menu-expansion {
    position: absolute;
    top: 6px;
    right: 4px;
}
* html #submenu button.toggle-menu-expansion { right: 10px; } /* MSIE hack */

/* This makes panels to skip in Firefox when page content is too wide...
#submenu li a:hover {
    outline: solid 1px $color.heading-line;
}*/

/* Panels */
body.non-maximized #page.with-panels {
    float: left; /* Force the main div to fit its content. */
}
body.non-maximized #page.with-panels #main {
    margin-right: 220px;
}
body.non-maximized #page.with-panels #menu {
    margin-right: 220px;
    padding-right: 0;
}
#panels {
    position: relative;
    top: -1px;
    z-index: 1;
    float: right;
    width: 220px;
}
div#panels-menu-item {
    margin-left: 0.5em;
}

div.panel {
    margin: 0 0 8px 8px;
    color: $color.foreground;
    border: 1px solid $color.top-border;
    background-color: $color.background;
}
div.panels-bottom-content {
    margin: 0 0em 8px 8px;
}
div.panel h3 {
    padding: 2px 4px;
    margin: 0;
    font-size: 1.1em;
    position: relative;
    background-color: $color.heading-bg;
    border-bottom: 1px solid $color.top-border;
}
div.panel div.panel-content {
    padding: 2px 4px;
}
div.panel ul, div.panel ol {
    padding-left: 1.5em;
    margin: 0;
}
div.panel form { margin: 5px 0; }

#panel-login a.login-ctrl {
    color: $color.foreground;
    border: 1px solid $color.top-border;
    background-color: $color.heading-bg;
    padding: 0 5px 0 20px;
    text-decoration: none;
    white-space: nowrap;
    margin: 0 5px;
    background-image: url(login.png);
    background-position: 1px center;
    background-repeat: no-repeat;
}
#panel-login a.login-ctrl:hover {
    background-color: $color.highlight-bg;
}
#panel-login.logged a.login-ctrl {
    background-image: url(logout.png);
}
#panel-login div.panel-content {
    padding: 6px 4px;
    line-height: 1.3em;
}


/* The actual page content */

#main {
    position: relative;
    color: $color.foreground;
    background-color: $color.background;
    border: 1px solid $color.top-border;
    padding: 10px 11px;
    margin-bottom: 8px;
    border-top: 0px; /* The top border is part of the menu bar. */
}
#main h1 {
    margin-top: 0;
    margin-bottom: 12px;
    padding-right: 24px; /* Space for the maximize/minimize button. */
}
#content {
    position: relative; /* fix MSIE background painting */
    width: 100%;
}
#clearing {
    height: 0;
    font-size: 0;
    clear: left;
}
#page-clearing {
    height: 0;
    font-size: 0;
}

/* Bottom part of the page */

#bottom {
    clear: both;
    margin: 12px 0;
}
body.maximized #bottom {
    margin-top: 4px;
}
#bottom-bar {
    text-align: right;
    font-size: 0.9em;
    border: solid $color.top-border;
    border-width: 1px 0px;
    background-color: $color.heading-bg;
    margin-bottom: 12px;
}
#bottom-bar span.left { float: left; }
#bottom-bar div.left { text-align: left; }
#bottom-bar a { text-decoration: none; }
#bottom-bar hr { display: none; }

#last-change {
    text-align: right;
    font-size: 0.75em;
}

#shared-audio-player {
    position: fixed;
    bottom: 0;
    right: 0;
    z-index: 1;
}
div#shared-audio-player {
    color: $color.error-fg;
    background-color: $color.error-bg;
    border: solid 1px $color.error-border;
    padding: .1em;
}

#footer { font-size: 0.9em; text-align: center; margin: 0; }
#footer p { margin: 1px 0; }
#footer img { margin: 5px; }
#footer hr { display: none; }

/* Special controls */

#login-controls {
    position: absolute;
    top: 0.7em;
    right: 0.9em;
    padding: 0.2em 0 0.3em 0;
}

form.login-form {
    background-color: $color.frame-bg;
    border: 1px solid $color.frame-border;
    border-width: 1px 0;
    padding: 14px 30px;
    margin: 0 32px 14px 0;
}
form.login-form input {
    margin-bottom: 12px;
}
form.login-form ul {
    margin-top: 14px;
}
form.login-form label {
    font-weight: bold;
}

} /* End of @media screen. */

@media only screen and (max-width: 767px) { /* mobile phone */
    
#submenu {
    display: none;
}
body.non-maximized div#page.with-submenu #main {
    /* div#page is needed for MSIE to increase specificity. */
    padding-left: 10px;
}
#menu a.navigation-link.current.with-dropdown {
    padding-right: 14px;
}
#menu a.navigation-link.current .menu-dropdown-ctrl {
    display: inline;
}

/*
#panels {
    display: none;
}
body.non-maximized #page.with-panels #main {
    margin-right: 0px;    
}
#page.with-panels #menu {
    margin-right: 0px;
}
*/
} /* End of mobile phone screen layout */

/* Print specific styles */
@media print {

body {
    color : #000;
    background : #fff;
    font-family : "Times New Roman", Times, serif;
    font-size : 10pt;
}
table td, table th, input { font-size: 10pt; }

a {
    text-decoration : underline;
    color : #00f;
}
a.backref, a:link.backref, h1 a { 
    color: #000 !important; /* important needed for MSIE */
    text-decoration: none;
}
form.browse-form table td, form.browse-form table th {
    border-color: #000;
}

h1 { font-size: 1.6em; }
h2 { font-size: 1.4em; }
h3 { font-size: 1.3em; }
h4 { font-size: 1.2em; }
h5 { font-size: 1.1em; }
h6 { font-size: 1.1em; }
h7 { font-size: 1.1em; }

#links, #menu, #submenu, #panels, #language-selection, #bottom, 
form.list-form-controls .paging-controls {
    display: none;
}

#maximized-mode-control {
    display: none;
}

} /* End of @media print. */

/* Override default LCG widget colors by Wiking color theme colors */
/* Original selectors must be duplicated here and prefixed by #page to get more specificity. */

#page .foldable-tree-widget li a.current span {
    background-color: $color.heading-bg
}
#page .notebook-widget ul.notebook-switcher {
    border-bottom-color: $color.top-border;
}
#page .notebook-widget li.notebook-tab a {
    border-color: $color.top-border;
}
@media print {
    #page .notebook-widget ul.notebook-switcher {
	border-bottom-color: #aaa;
    }
    #page .notebook-widget li.notebook-tab a {
	border-color: #aaa;
    }
}
.#page .notebook-widget li.notebook-tab a.current {
    background-color: $color.background;
    border-bottom-color: $color.background;
}
#page .popup-menu-widget {
    background-color: $color.frame-bg;
    border-color: $color.top-border;
}
#page .popup-menu-widget li.active a {
    color: $color.foreground;
}
#page .popup-menu-widget li.active:hover {
    background-color: $color.highlight-bg;
}
#page .dropdown-selection-widget {
    background-color: $color.background;
    border-color: $color.top-border;
}
#page .dropdown-selection-widget li.active a {
    color: $color.foreground;
}

/* Override default Pytis form colors by current Wiking color theme colors. */

#page .pytis-form.edit-form .errors,
#page .pytis-form.query-fields-form .errors {
    color: $color.error-fg;
    background-color: $color.error-bg;
    border-color: $color.error-border;
}

#page .pytis-form .group, 
#page .pytis-form .submit,
#page .pytis-form .paging-controls {
    background-color: $color.frame-bg;
    border-color: $color.frame-border;
}
#page .pytis-form.query-fields-form .submit {
    background: none;
}
#page .pytis-form.query-fields-form .group {
    background: none;
    border: none;
}
* html #page .pytis-form fieldset.group legend { 
    color: $color.foreground;
}
#page .pytis-form.browse-form table.data-table tr.data-row td,
#page .pytis-form.browse-form table.data-table tr.row-expansion td,
#page .pytis-form.browse-form table.data-table tr.column-headings th,
#page .pytis-form.browse-form table.data-table tr.group-heading th {
    border-color: $color.border;
}
@media print {
    #page .pytis-form.browse-form table.data-table,
    #page .pytis-form.browse-form table.data-table tr.data-row td,
    #page .pytis-form.browse-form table.data-table tr.row-expansion td,
    #page .pytis-form.browse-form table.data-table tr.column-headings th,
    #page .pytis-form.browse-form table.data-table tr.group-heading th {
	border-color: #ddd;
    }
}
#page .pytis-form.browse-form table.data-table tr.column-headings th.column-heading,
#page .pytis-form.browse-form table.data-table tr.group-heading th {
    background-color: $color.heading-bg;
}
#page .pytis-form.browse-form table.data-table tr.data-row,
#page .pytis-form.browse-form table.data-table tr.row-expansion {
    background-color: $color.table-cell;
}
#page .pytis-form.browse-form table.data-table tr.data-row.even {
    background-color: $color.table-cell2;
}

#page .pytis-form.browse-form table.data-table tfoot td {
    background-color: $color.frame-bg;
    border-color: $color.frame-border;
}
#page .pytis-form.browse-form #found-record {
    background-color: $color.highlight-bg;
}
#page .pytis-form.list-view div.tree-indent {
    border-left-color: $color.frame-border
}
#page .pytis-form.list-view #found-record h3 {
    background-color: $color.highlight-bg;
}
#page .pytis-form.list-view div.list-item div.meta {
    color: $color.meta-fg;
    background-color: $color.meta-bg;
}
#page .pytis-form .field-label.disabled { 
    color: $color.help; 
}
#page .pytis-form .group span.color-display { 
    border-color: $color.border;
}
#page .pytis-form.show-form .group textarea,
#page .pytis-form.list-view .group textarea {
    background-color: $color.frame-bg;
}
#page .pytis-form.edit-form div.help { 
    color: $color.help;
}
#page .pytis-form input.text-search-field,
#page .pytis-form.edit-form input.text-field,
#page .pytis-form.edit-form textarea,
#page .pytis-form.edit-form select {
    border-color: $color.border;
}
#page .pytis-form.list-view div.summary {
    border-top-color: $color.frame-border;
}
/*.pytis-form .invalid {
    background-color: $color.error-bg;
}*/
#page .actions button[disabled] span,
#page .list-form-controls button[disabled] span {
    color: $color.foreground;
}
