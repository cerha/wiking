# -*- coding: utf-8; mode: structured-text -*-

= nginx Configuration =

This section describes how to run Wiking with nginx + uWSGI.

== uWSGI ==

uWSGI process is started like this:

-----
uwsgi --socket 127.0.0.1:9090 --wsgi-file /var/www/yoursite/lib/wiking/wsgi_interface.py --master --processes 4 --threads 2 --stats 127.0.0.1:9190
-----

You can change the given paramaters as you need.

Each application needs its own uwsgi process running on its own port.

Note: uWSGI may set a bit different PYTHONPATH so if it complains about
psycopg2 or another installed module being unavailable, you may want to add the
corresponding directory to your PYTHONPATH (and make sure it's exported), e.g.:

-----
export PYTHONPATH=/usr/local/lib/python2.7/site-packages:$PYTHONPATH
-----

== nginx ==

Example configuration of an nginx virtual server:

-----
server {
    listen 80;
    server_name www.yoursite.com;
   
    location / {
        include uwsgi_params;
        uwsgi_pass 127.0.0.1:9090;
        uwsgi_param wiking.config_file '/var/www/yoursite/config.py';
    }
}
-----
