# -*- coding: utf-8; mode: structured-text -*-

= Wiking Administrator's Handbook =


Table Of Contents: @TOC@


== Installation Instructions ==

Dependencies:

  * python >= 2.3 (2.4 suggested)
  * apache >= 2.0 (prefork MPM!)
  * mod_python >= 3.2.10
  * postgresql >= (8.1 or later)
  * lcg >= 0.3.4
  * pytis >= 0.1.0
  * python-egenix-mxdatetime - Python date/time manipulation routines
  * python-psycopg2 - Python DBAPI 2 implementation for PostgreSQL
  * python-imaging - Python Imaging Library (needed only when using Image galeries)  

Multithreaded Apache MPM is currently not supported.  Since it is the default
in many distributions, please check and switch to prefork MPM to be able to run
Wiking.

When you have all the above installed, run "make install" in the package root
directory.  You need to have GNU make to be able to run the automatic
installation.  You may also wish to change some variables at the beginning of
the Makefile to customize the installation.


== Setting Up Your Site ==

When Wiking is installed succesfully, you must configure Apache to use it for
serving your site.  This can be as simple as Adding two lines into your site's
VirtualHost section.  An example follows:

-----
<VirtualHost *>
  ServerName www.yourdomain.com
  ScriptAliasMatch .* /usr/local/share/wiking/wiking.py
  PythonOption database www.yourdomain.com
</VirtualHost>
-----

The =ScriptAliasMatch= line says Apache to handle all uris on given site by
wiking handler.  You should change the path if you installed Wiking to a
different location.  Please note, that the file 'wiking.py' does not actually
exist in the named directory, but that is ok.  The request will be redirected
to the Wiking handler.  The directory must exist, however (created by the
installation script).

The =PythonOption= line sets the name of the database which should be used by
Wiking to store content for given site.  The recommended practice is to use the
site name for the database name.

Once you have your site configuration ready, you may reload Apache and try
pointing your browser to the corresponding uri.  On the first try, the database
will not be initialized, but Wiking will detect that and guide you through the
database initialization process.

You can configure as many VirtualHosts as you want and serve them all using
Wiking.  There must be a separate database for each virtual host.


== Additional options for Apache configuration ==

You may wish to redirect certain URIs to ordinary files and directories.  This
can be simply done within the VirtualHost section.  Example:

-----
  Alias /img/ /var/www/www.yourdomain.com/img
-----

If you put this line prior to the ScriptAliasMatch line, Apache will handle all
requests within the =img= directory by serving the corresponding files.


== Documentation for Wiking Modules ==

After setting up your Wiking site, all the administration is done through the
web.  You can enter the "Wiking Management Interface" using a link at the
bottom of the page.  All the administration is done through one of the Wiking
modules.

Available Modules: @NodeIndex(1)@

